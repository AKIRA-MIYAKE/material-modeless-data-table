(this["webpackJsonpmaterial-modeless-data-table-example"]=this["webpackJsonpmaterial-modeless-data-table-example"]||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),o=n.n(l),c=n(170),u=n(77),i=n(31),s=n(166),d=n(171),b=n(165),f=n(167),m=n(176),p=n(168),v=n(169),O=n(72),g=n.n(O),h=n(54),j=n(161),E=n(158),y=n(159),k=n(160),w=n(156),C=n(152),D=n(157),x=n(155),T=n(110),R=n(74),M=n.n(R),P=n(75),S=n.n(P),I=n(177),_=n(60),H=n(173),V=n(172),A=n(178),W=n(174);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var z=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(g.a),B=function(e){var t=e.value;switch(e.valueType){case"string":case"number":return t;case"boolean":return null===t?"\u2501":t?"\u2714\ufe0e":null}},L=function(e){var t=e.id,n=e.items,r=e.columns,l=e.isReadOnly,o=e.onReorder,c=e.onChangeAtIndex,u=e.onDeleteAtIndex,i=e.onInsertAtLast,s=Object(a.useMemo)((function(){return n.map((function(e,n){return function(e){var t=e.item,n=e.index,a=e.id,r=e.columns,l=e.isReadOnly;return r.filter((function(e){return!e.isHidden})).map((function(e){var r;r="undefined"===typeof t[e.keyProp]?null:t[e.keyProp];var o=a+"_"+e.keyProp+"_"+n;return q({value:r,valueType:e.valueType,key:o,readOnly:l||e.isReadOnly},e.cell)}))}({item:e,index:n,id:t,columns:r,isReadOnly:l})}))}),[t,n,r,l]);return{data:s,onCellsChanged:Object(a.useCallback)((function(e){c&&e.forEach((function(e){var t,a=e.row,l=e.col,o=e.value,u=a,i=n[u],s=r.filter((function(e){return!e.isHidden}))[l],d=o;if("string"===typeof d&&0===d.length&&(d=null),(!s.isRequired||null!==d)&&(!s.validate||!s.validate(d,i,n))){s.formatEditedValue&&(d=s.formatEditedValue(d));var b=q({},i,((t={})[s.keyProp]=d,t));c({newItem:b,oldItem:i,index:u})}}))}),[n,r,s,c]),onDragEnd:Object(a.useCallback)((function(e){if(o&&"CANCEL"!==e.reason){var t=e.destination&&e.destination.index;if("undefined"!==typeof t){var a=e.source.index;if(a!==t){var r=n[a],l=n.filter((function(e,t){return t!==a}));l.splice(t,0,r),o({items:l,srcIndex:a,destIndex:t})}}}}),[n,o]),onDelete:Object(a.useCallback)((function(e){if(u){var t=e,a=n[t];u({oldItem:a,index:t})}}),[n,u]),onInsert:Object(a.useCallback)((function(){if(i){var e=function(e){return e.columns.reduce((function(e,t){var n,a=null;return t.defualtValue&&(a="function"===typeof t.defualtValue?t.defualtValue():t.defualtValue),q({},e,((n={})[t.keyProp]=a,n))}),{})}({columns:r}),t=n.length;i({newItem:e,index:t})}}),[n,r,i])}},N=function(){return r.a.createElement(C.a,{padding:"checkbox"})},K=Object(x.a)((function(e){return{root:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),Y=function(e){var t=e.colspan,n=e.onInsert,l=K(),o=Object(a.useCallback)((function(){n()}),[n]);return r.a.createElement(w.a,null,r.a.createElement(C.a,{classes:l,colSpan:t},r.a.createElement(D.a,{variant:"outlined",color:"primary",size:"small",onClick:o},"Add")))},X=function(e){var t=e.tableProps,n=e.onInsert,l=e.onDragEnd,o=e.children,c=t.id,u=t.columns,i=t.tableSize,s=t.isReadOnly,d=t.isTableHeaderHidden,b=t.isReorderDisabled,f=t.isDeleteDisabled,m=t.isInsertDisabled,p=Object(a.useMemo)((function(){var e=u.filter((function(e){return!e.isHidden})).length;return s||(b||e++,f||e++),e}),[u,s,b,f]),v=Object(a.useCallback)((function(){var e=document.activeElement;e&&e instanceof HTMLElement&&e.blur()}),[]),O=Object(a.useMemo)((function(){return d?null:r.a.createElement(E.a,null,r.a.createElement(w.a,null,!s&&!b&&r.a.createElement(N,null),u.filter((function(e){return!e.isHidden})).map((function(e,t){return r.a.createElement(C.a,{style:e.style,key:t},e.label)})),!s&&!f&&r.a.createElement(N,null)))}),[u,s,d,b,f]),g=Object(a.useMemo)((function(){return s||b?r.a.createElement(y.a,null,o):r.a.createElement(h.a,{onDragEnd:l,onDragStart:v},r.a.createElement(h.c,{droppableId:c},(function(e){return r.a.createElement(y.a,Object.assign({ref:e.innerRef},e.droppableProps),o,e.placeholder)})))}),[c,s,b,l,v,o]),D=Object(a.useMemo)((function(){return s||m?null:r.a.createElement(k.a,null,r.a.createElement(Y,{onInsert:n,colspan:p}))}),[s,m,n,p]);return r.a.createElement(j.a,{size:i},O,g,D)},J=Object(x.a)((function(){return{root:{textAlign:"center"}}})),$=function(e){var t=J();return r.a.createElement(C.a,{classes:t,padding:"checkbox"},r.a.createElement(T.a,Object.assign({},e),r.a.createElement(M.a,null)))},F=Object(x.a)((function(){return{root:{textAlign:"center"}}})),G=function(e){var t=e.onDelete,n=F(),l=Object(a.useCallback)((function(){t()}),[t]);return r.a.createElement(C.a,{classes:n,padding:"checkbox"},r.a.createElement(T.a,{onClick:l},r.a.createElement(S.a,null)))},Q=Object(x.a)((function(e){return{root:{"&$selected, &$selected:hover":{display:"table",tableLayout:"auto",backgroundColor:e.palette.action.hover}},selected:{}}})),U=function(e){var t=e.tableProps,n=e.onDelete,l=e.row,o=e.children,c=t.id,u=t.isReadOnly,i=t.isReorderDisabled,s=t.isDeleteDisabled,d=Q(),b=Object(a.useMemo)((function(){return c+"_"+l}),[c,l]),f=Object(a.useCallback)((function(){n(l)}),[n,l]);return u||i?r.a.createElement(w.a,{classes:d},o,!u&&!s&&r.a.createElement(G,{onDelete:f})):r.a.createElement(h.b,{draggableId:b,index:l,isDragDisabled:i},(function(e,t){return r.a.createElement(w.a,Object.assign({classes:d,selected:t.isDragging,ref:e.innerRef},e.draggableProps),r.a.createElement($,Object.assign({},e.dragHandleProps)),o,!s&&r.a.createElement(G,{onDelete:f}))}))},Z=Object(x.a)((function(e){return{root:{position:"relative",cursor:"cell","&:hover":{backgroundColor:Object(_.lighten)(e.palette.action.hover,.5)}}}})),ee=Object(x.a)((function(e){return{selected:{backgroundColor:e.palette.action.hover,"&:hover":{backgroundColor:e.palette.action.hover}},editing:{backgroundColor:e.palette.action.hover,"&:hover":{backgroundColor:e.palette.action.hover}},readOnly:{cursor:"default",color:Object(_.lighten)(e.palette.text.primary,.25)},error:{"&:before":{content:'""',position:"absolute",display:"block",top:0,right:0,borderTop:".5rem solid "+e.palette.error.main,borderLeft:".5rem solid transparent"}}}})),te=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.selected,u=e.editing,i=e.onMouseDown,s=e.onMouseOver,d=e.onContextMenu,b=e.onDoubleClick,f=e.children,m=t.items,p=t.columns,v=t.isReadOnly,O=Z(),g=ee(),h=Object(a.useState)(void 0),j=h[0],E=h[1],y=Object(a.useMemo)((function(){return m[l]}),[m,l]),k=Object(a.useMemo)((function(){return p.filter((function(e){return!e.isHidden}))[o]}),[p,o]),w=Object(a.useMemo)((function(){var e=[];return u?e.push(g.editing):c&&e.push(g.selected),j&&!u&&e.push(g.error),(v||k.isReadOnly)&&e.push(g.readOnly),e.join(" ")}),[v,c,u,g,j,k.isReadOnly]),D=Object(a.useMemo)((function(){var e=k.style||{},t={width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,textAlign:e.textAlign};switch(k.overflow||"wrap"){case"wrap":t=q({},t,{whiteSpace:"normal",overflowWrap:"anywhere"});break;case"nowrap":t=q({},t,{whiteSpace:"nowrap",overflowX:"visible"});break;case"clip":t=q({},t,{whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"clip"});break;case"ellipsis":t=q({},t,{whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"ellipsis"})}return t}),[k.style,k.overflow]),x=Object(a.useMemo)((function(){return"boolean"===k.valueType?"checkbox":"default"}),[k.valueType]),T=Object(a.useMemo)((function(){return r.a.createElement(C.a,{classes:O,className:w,style:D,padding:x,onMouseDown:i,onMouseOver:s,onContextMenu:d,onDoubleClick:b},f)}),[i,s,d,b,f,O,w,D,x]);return Object(a.useEffect)((function(){var e=k.validate&&k.validate(n.value,y,m);E(e)}),[m,n.value,y,k]),u||"undefined"===typeof j?T:r.a.createElement(I.a,{title:j,placement:"top-end"},T)},ne=function(e){var t=e.tableProps,n=e.cell,l=e.value,o=e.col,c=t.columns,u=Object(a.useMemo)((function(){return c.filter((function(e){return!e.isHidden}))[o]}),[c,o]),i=Object(a.useMemo)((function(){var e={display:"inline-block"};return"boolean"===n.valueType&&(e=q({},e,{width:"24px",textAlign:"center"})),e}),[n.valueType]),s=Object(a.useMemo)((function(){return u.formatViewerValue?u.formatViewerValue(n.value):l}),[n.value,l,u.formatViewerValue]);return r.a.createElement("span",{style:i},s)},ae=Object(x.a)((function(){return{root:{width:"100%",marginTop:"-4px",marginBottom:"-8px"}}})),re=Object(x.a)((function(e){return{root:{fontSize:e.typography.fontSize}}})),le=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.onChange,u=e.onRevert,i=e.onKeyDown,s=t.items,d=t.columns,b=ae(),f=re(),m=Object(a.useState)(void 0),p=m[0],v=m[1],O=Object(a.useMemo)((function(){return s[l]}),[s,l]),g=Object(a.useMemo)((function(){return d.filter((function(e){return!e.isHidden}))[o]}),[d,o]),h=Object(a.useMemo)((function(){return n.value}),[n.value]),j=Object(a.useMemo)((function(){return"number"===n.valueType?"number":g.inputType}),[n.valueType,g.inputType]),E=Object(a.useRef)(),y=Object(a.useCallback)((function(e){var t=function(e,t){switch(t){case"string":return e.length>0?e:null;case"number":return e.length>0?Number(e):null;default:return null}}(e.target.value,n.valueType),a=g.validate&&g.validate(t,O,s);v(a),a||c(t)}),[s,n.valueType,c,O,g.validate]),k=Object(a.useCallback)((function(){u()}),[u]);return Object(a.useEffect)((function(){var e=g.validate&&g.validate(n.value,O,s);v(e)}),[s,n.value,O,g.validate]),Object(a.useEffect)((function(){E.current&&E.current.focus()}),[E]),r.a.createElement(H.a,{classes:b,defaultValue:h,type:j,error:!!p,helperText:p,onChange:y,onKeyDown:i,inputProps:{ref:E,className:f.root,onBlur:k}})},oe=Object(x.a)((function(){return{root:{marginTop:"-4px",marginBottom:"-8px"}}})),ce=Object(x.a)((function(){return{root:{fontSize:"0.875rem",marginTop:"-2px",marginBottom:"-1px"}}})),ue=function(e,t){switch(t){case"string":return"__EMPTY__"!==e?e:null;case"number":return"__EMPTY__"!==e?Number(e):null;default:return null}},ie=function(e){var t=e.tableProps,n=e.cell,l=e.col,o=e.onCommit,c=e.onRevert,u=t.columns,i=oe(),s=ce(),d=Object(a.useState)(!1),b=d[0],f=d[1],m=Object(a.useMemo)((function(){return u.filter((function(e){return!e.isHidden}))[l]}),[u,l]),p=Object(a.useCallback)((function(e){e.stopPropagation();var t=e.target.dataset.value;if("undefined"!==typeof t){var a,r=ue(t,n.valueType);a=m.isRequired||n.value!==r?r:null,o(a),f(!1)}}),[n.value,n.valueType,o,m.isRequired]),v=Object(a.useCallback)((function(e){switch(e.key){case"Enter":e.stopPropagation();var t=e.target.dataset.value;if("undefined"===typeof t)return;var a,r=ue(t,n.valueType);a=m.isRequired||n.value!==r?r:null,o(a),f(!1);break;case"Escape":e.stopPropagation(),c(),f(!1)}}),[n.value,n.valueType,o,c,m.isRequired]);if(Object(a.useEffect)((function(){f(!0)}),[]),!m.enum)throw new Error("Never");return r.a.createElement("div",{className:i.root},r.a.createElement(V.a,{classes:s,value:null!==n.value?n.value:"__EMPTY__",open:b},!m.isRequired&&r.a.createElement(A.a,{value:"__EMPTY__",onMouseDown:p,onKeyDown:v},"\xa0"),m.enum.map((function(e){return r.a.createElement(A.a,{value:e,key:e,onMouseDown:p,onKeyDown:v},e)}))))},se=function(e){var t=e.cell,n=e.onCommit,l=e.onRevert,o=Object(a.useState)(null===t.value),c=o[0],u=o[1],i=Object(a.useRef)(),s=Object(a.useCallback)((function(e){e.stopPropagation(),null!==t.value?n(!t.value):n(!0)}),[t.value,n]),d=Object(a.useCallback)((function(e){if(i.current)switch(e.key){case"Enter":e.preventDefault();var t=i.current.checked;n(t);break;case"Escape":l();break;case"Tab":e.preventDefault()}}),[n,l,i]),b=Object(a.useCallback)((function(){u(!1)}),[]);return Object(a.useEffect)((function(){i.current&&i.current.focus()}),[i]),r.a.createElement(W.a,{defaultChecked:"boolean"===typeof t.value&&t.value,indeterminate:c,inputRef:i,onMouseDown:s,onKeyDown:d,onChange:b})},de=function(e){var t=e.tableProps.columns,n=Object(a.useMemo)((function(){return t.filter((function(e){return!e.isHidden}))[e.col]}),[t,e.col]);return"boolean"===n.valueType?r.a.createElement(se,Object.assign({},e)):n.enum?r.a.createElement(ie,Object.assign({},e)):r.a.createElement(le,Object.assign({},e))},be=function(e){var t,n=L(e),a=n.data,l=n.onCellsChanged,o=n.onDragEnd,c=n.onDelete,u=n.onInsert,i=(t={tableProps:e,onDragEnd:o,onInsert:u},function(e){return r.a.createElement(X,Object.assign({},t,e))}),s=function(e){return function(t){return r.a.createElement(U,Object.assign({},e,t))}}({tableProps:e,onDelete:c}),d=function(e){return function(t){return r.a.createElement(te,Object.assign({},e,t))}}({tableProps:e}),b=function(e){return function(t){return r.a.createElement(ne,Object.assign({},e,t))}}({tableProps:e}),f=function(e){return function(t){return r.a.createElement(de,Object.assign({},e,t))}}({tableProps:e});return r.a.createElement(z,{data:a,valueRenderer:B,onCellsChanged:l,sheetRenderer:i,rowRenderer:s,cellRenderer:d,valueViewer:b,dataEditor:f})},fe=(n(107),function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),O=c[0],g=c[1],h=Object(a.useState)(!1),j=Object(i.a)(h,2),E=j[0],y=j[1],k=Object(a.useState)(!1),w=Object(i.a)(k,2),C=w[0],D=w[1],x=Object(a.useState)(!1),T=Object(i.a)(x,2),R=T[0],M=T[1],P=Object(a.useState)(!1),S=Object(i.a)(P,2),I=S[0],_=S[1],H=Object(a.useCallback)((function(e){l(e.target.checked)}),[]),V=Object(a.useCallback)((function(e){g(e.target.checked)}),[]),A=Object(a.useCallback)((function(e){y(e.target.checked)}),[]),W=Object(a.useCallback)((function(e){D(e.target.checked)}),[]),q=Object(a.useCallback)((function(e){M(e.target.checked)}),[]),z=Object(a.useCallback)((function(e){_(e.target.checked)}),[]),B=Object(a.useState)((function(){return[{a:"a0",b:"b0",hidden:"this param is hidden",c:0,d:!0,e:(new Date).toISOString()},{a:"a1",b:"b1",hidden:"this param is hidden",c:1,d:!1,e:(new Date).toISOString()},{a:"a2",b:"b2",hidden:"this param is hidden",c:2,d:null,e:(new Date).toISOString()}]})),L=Object(i.a)(B,2),N=L[0],K=L[1],Y=Object(a.useMemo)((function(){return[{keyProp:"a",valueType:"string",validate:function(e,t,n){return null===e?"Required":n.filter((function(t){return t.a===e})).length>1?"Duplicated":void 0},label:"A",isRequired:!0,style:{minWidth:"12rem"}},{keyProp:"b",valueType:"string",enum:["b0","b1","b2","b3","b4"],label:"B",style:{width:"12rem",minWidth:"12rem"}},{keyProp:"hidden",valueType:"string",defualtValue:"this param is hidden",isHidden:!0},{keyProp:"c",valueType:"number",label:"C",style:{width:"12rem",minWidth:"12rem",textAlign:"right"}},{keyProp:"d",valueType:"boolean",label:"D",style:{width:"8rem",minWIdth:"8rem",textAlign:"center"}},{keyProp:"e",valueType:"string",formatViewerValue:function(e){return new Date(e).toLocaleString()},defualtValue:function(){return(new Date).toISOString()},label:"E",isReadOnly:!0,style:{width:"12rem",minWidth:"12rem"}}]}),[]),X=Object(a.useCallback)((function(e){var t=e.items;K(t)}),[]),J=Object(a.useCallback)((function(e){var t=e.newItem,n=e.index,a=N.map((function(e,a){return a!==n?e:t}));K(a)}),[N]),$=Object(a.useCallback)((function(e){var t=e.index,n=N.filter((function(e,n){return n!==t}));K(n)}),[N]),F=Object(a.useCallback)((function(e){var t=e.newItem,n=[].concat(Object(u.a)(N),[t]);K(n)}),[N]);return Object(a.useEffect)((function(){console.log(N)}),[N]),r.a.createElement(s.a,null,r.a.createElement(d.a,{marginY:2},r.a.createElement(b.a,null,r.a.createElement(d.a,{padding:2},r.a.createElement(f.a,{row:!0},r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:n,onChange:H}),label:"Small"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:E,onChange:A}),label:"isTableHeaderHidden"})),r.a.createElement(f.a,{row:!0},r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:O,onChange:V}),label:"isReadOnly"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:C,onChange:W}),label:"isReorderDisabled"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:R,onChange:q}),label:"isDeleteDisabled"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:I,onChange:z}),label:"isInsertDisabled"}))))),r.a.createElement(v.a,{component:b.a},r.a.createElement(be,{id:"example",items:N,columns:Y,onReorder:X,onChangeAtIndex:J,onDeleteAtIndex:$,onInsertAtLast:F,tableSize:n?"small":"medium",isReadOnly:O,isTableHeaderHidden:E,isReorderDisabled:C,isDeleteDisabled:R,isInsertDisabled:I})))});o.a.render(r.a.createElement(a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(fe,null)),document.getElementById("root"))},93:function(e,t,n){e.exports=n(109)}},[[93,1,2]]]);
//# sourceMappingURL=main.71f76af7.chunk.js.map