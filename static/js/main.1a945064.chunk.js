(this["webpackJsonpmaterial-modeless-data-table-example"]=this["webpackJsonpmaterial-modeless-data-table-example"]||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),o=n.n(l),c=n(170),u=n(77),i=n(26),s=n(166),d=n(171),b=n(165),f=n(167),m=n(176),p=n(168),v=n(169),O=n(72),h=n.n(O),g=n(54),y=n(161),j=n(158),E=n(159),k=n(160),w=n(156),C=n(152),D=n(157),T=n(155),x=n(110),R=n(74),M=n.n(R),P=n(75),S=n.n(P),I=n(177),_=n(60),H=n(173),V=n(172),A=n(178),W=n(174);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var z=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(h.a),B=function(e){var t=e.value;switch(e.valueType){case"string":case"number":return t;case"boolean":return null===t?"\u2501":t?"\u2714\ufe0e":null}},L=function(e){var t=e.id,n=e.items,r=e.columns,l=e.isReadOnly,o=e.isTemporaryReadOnly,c=e.onReorder,u=e.onChangeAtIndex,i=e.onDeleteAtIndex,s=e.onInsertAtLast,d=Object(a.useMemo)((function(){return n.map((function(e,n){return function(e){var t=e.item,n=e.index,a=e.id,r=e.columns,l=e.isReadOnly,o=e.isTemporaryReadOnly;return r.filter((function(e){return!e.isHidden})).map((function(e){var r;r="undefined"===typeof t[e.keyProp]?null:t[e.keyProp];var c=a+"_"+e.keyProp+"_"+n;return q({value:r,valueType:e.valueType,key:c,readOnly:l||o||e.isReadOnly},e.cell)}))}({item:e,index:n,id:t,columns:r,isReadOnly:l,isTemporaryReadOnly:o})}))}),[t,n,r,l,o]);return{data:d,onCellsChanged:Object(a.useCallback)((function(e){u&&e.forEach((function(e){var t,a=e.row,l=e.col,o=e.value,c=a,i=n[c],s=r.filter((function(e){return!e.isHidden}))[l],d=o;if("string"===typeof d&&0===d.length&&(d=null),(!s.isRequired||null!==d)&&(!s.validate||!s.validate(d,i,n))){s.formatEditedValue&&(d=s.formatEditedValue(d));var b=q({},i,((t={})[s.keyProp]=d,t));u({newItem:b,oldItem:i,index:c})}}))}),[n,r,d,u]),onDragEnd:Object(a.useCallback)((function(e){if(c&&"CANCEL"!==e.reason){var t=e.destination&&e.destination.index;if("undefined"!==typeof t){var a=e.source.index;if(a!==t){var r=n[a],l=n.filter((function(e,t){return t!==a}));l.splice(t,0,r),c({items:l,srcIndex:a,destIndex:t})}}}}),[n,c]),onDelete:Object(a.useCallback)((function(e){if(i){var t=e,a=n[t];i({oldItem:a,index:t})}}),[n,i]),onInsert:Object(a.useCallback)((function(){if(s){var e=function(e){return e.columns.reduce((function(e,t){var n,a=null;return t.defualtValue&&(a="function"===typeof t.defualtValue?t.defualtValue():t.defualtValue),q({},e,((n={})[t.keyProp]=a,n))}),{})}({columns:r}),t=n.length;s({newItem:e,index:t})}}),[n,r,s])}},N=function(){return r.a.createElement(C.a,{padding:"checkbox"})},K=Object(T.a)((function(e){return{root:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),Y=function(e){var t=e.colspan,n=e.onInsert,l=e.isDisabled,o=K(),c=Object(a.useCallback)((function(){l||n()}),[l,n]);return r.a.createElement(w.a,null,r.a.createElement(C.a,{classes:o,colSpan:t},r.a.createElement(D.a,{variant:"outlined",color:"primary",size:"small",disabled:l,onClick:c},"Add")))},X=function(e){var t=e.tableProps,n=e.onInsert,l=e.onDragEnd,o=e.children,c=t.id,u=t.columns,i=t.tableSize,s=t.isReadOnly,d=t.isTemporaryReadOnly,b=t.isTableHeaderHidden,f=t.isReorderDisabled,m=t.isDeleteDisabled,p=t.isInsertDisabled,v=Object(a.useMemo)((function(){var e=u.filter((function(e){return!e.isHidden})).length;return s||(f||e++,m||e++),e}),[u,s,f,m]),O=Object(a.useCallback)((function(){var e=document.activeElement;e&&e instanceof HTMLElement&&e.blur()}),[]),h=Object(a.useMemo)((function(){return b?null:r.a.createElement(j.a,null,r.a.createElement(w.a,null,!s&&!f&&r.a.createElement(N,null),u.filter((function(e){return!e.isHidden})).map((function(e,t){return r.a.createElement(C.a,{style:e.style,key:t},e.label)})),!s&&!m&&r.a.createElement(N,null)))}),[u,s,b,f,m]),D=Object(a.useMemo)((function(){return s||f?r.a.createElement(E.a,null,o):r.a.createElement(g.a,{onDragEnd:l,onDragStart:O},r.a.createElement(g.c,{droppableId:c},(function(e){return r.a.createElement(E.a,Object.assign({ref:e.innerRef},e.droppableProps),o,e.placeholder)})))}),[c,s,f,l,O,o]),T=Object(a.useMemo)((function(){return s||p?null:r.a.createElement(k.a,null,r.a.createElement(Y,{isDisabled:d,onInsert:n,colspan:v}))}),[s,p,n,v]);return r.a.createElement(y.a,{size:i},h,D,T)},J=Object(T.a)((function(){return{root:{textAlign:"center"}}})),$=function(e){var t=J(),n=Object(a.useMemo)((function(){return 0===Object.keys(e).length}),[e]);return r.a.createElement(C.a,{classes:t,padding:"checkbox"},r.a.createElement(x.a,Object.assign({},e,{disabled:n}),r.a.createElement(M.a,null)))},F=Object(T.a)((function(){return{root:{textAlign:"center"}}})),G=function(e){var t=e.onDelete,n=e.isDisabled,l=F(),o=Object(a.useCallback)((function(){n||t()}),[n,t]);return r.a.createElement(C.a,{classes:l,padding:"checkbox"},r.a.createElement(x.a,{disabled:n,onClick:o},r.a.createElement(S.a,null)))},Q=Object(T.a)((function(e){return{root:{"&$selected, &$selected:hover":{display:"table",tableLayout:"auto",backgroundColor:e.palette.action.hover}},selected:{}}})),U=function(e){var t=e.tableProps,n=e.onDelete,l=e.row,o=e.children,c=t.id,u=t.isReadOnly,i=t.isTemporaryReadOnly,s=t.isReorderDisabled,d=t.isDeleteDisabled,b=Q(),f=Object(a.useMemo)((function(){return c+"_"+l}),[c,l]),m=Object(a.useCallback)((function(){n(l)}),[n,l]);return u||s?r.a.createElement(w.a,{classes:b},o,!u&&!d&&r.a.createElement(G,{onDelete:m,isDisabled:i})):r.a.createElement(g.b,{draggableId:f,index:l,isDragDisabled:s||i},(function(e,t){return r.a.createElement(w.a,Object.assign({classes:b,selected:t.isDragging,ref:e.innerRef},e.draggableProps),r.a.createElement($,Object.assign({},e.dragHandleProps)),o,!d&&r.a.createElement(G,{onDelete:m,isDisabled:i}))}))},Z=Object(T.a)((function(e){return{root:{position:"relative",cursor:"cell","&:hover":{backgroundColor:Object(_.lighten)(e.palette.action.hover,.5)}}}})),ee=Object(T.a)((function(e){return{selected:{backgroundColor:e.palette.action.hover,"&:hover":{backgroundColor:e.palette.action.hover}},editing:{backgroundColor:e.palette.action.hover,"&:hover":{backgroundColor:e.palette.action.hover}},readOnly:{cursor:"default",color:Object(_.lighten)(e.palette.text.primary,.25)},error:{"&:before":{content:'""',position:"absolute",display:"block",top:0,right:0,borderTop:".5rem solid "+e.palette.error.main,borderLeft:".5rem solid transparent"}}}})),te=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.selected,u=e.editing,i=e.onMouseDown,s=e.onMouseOver,d=e.onContextMenu,b=e.onDoubleClick,f=e.children,m=t.items,p=t.columns,v=t.isReadOnly,O=t.isTemporaryReadOnly,h=Z(),g=ee(),y=Object(a.useState)(void 0),j=y[0],E=y[1],k=Object(a.useMemo)((function(){return m[l]}),[m,l]),w=Object(a.useMemo)((function(){return p.filter((function(e){return!e.isHidden}))[o]}),[p,o]),D=Object(a.useMemo)((function(){var e=[];return u?e.push(g.editing):c&&e.push(g.selected),j&&!u&&e.push(g.error),(v||O||w.isReadOnly)&&e.push(g.readOnly),e.join(" ")}),[v,O,c,u,g,j,w.isReadOnly]),T=Object(a.useMemo)((function(){var e=w.style||{},t={width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,textAlign:e.textAlign};switch(w.overflow||"wrap"){case"wrap":t=q({},t,{whiteSpace:"normal",overflowWrap:"anywhere"});break;case"nowrap":t=q({},t,{whiteSpace:"nowrap",overflowX:"visible"});break;case"clip":t=q({},t,{whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"clip"});break;case"ellipsis":t=q({},t,{whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"ellipsis"})}return t}),[w.style,w.overflow]),x=Object(a.useMemo)((function(){return"boolean"===w.valueType?"checkbox":"default"}),[w.valueType]),R=Object(a.useMemo)((function(){return r.a.createElement(C.a,{classes:h,className:D,style:T,padding:x,onMouseDown:i,onMouseOver:s,onContextMenu:d,onDoubleClick:b},f)}),[i,s,d,b,f,h,D,T,x]);return Object(a.useEffect)((function(){var e=w.validate&&w.validate(n.value,k,m);E(e)}),[m,n.value,k,w]),u||"undefined"===typeof j?R:r.a.createElement(I.a,{title:j,placement:"top-end"},R)},ne=function(e){var t=e.tableProps,n=e.cell,l=e.value,o=e.col,c=t.columns,u=Object(a.useMemo)((function(){return c.filter((function(e){return!e.isHidden}))[o]}),[c,o]),i=Object(a.useMemo)((function(){var e={display:"inline-block"};return"boolean"===n.valueType&&(e=q({},e,{width:"24px",textAlign:"center"})),e}),[n.valueType]),s=Object(a.useMemo)((function(){return u.formatViewerValue?u.formatViewerValue(n.value):l}),[n.value,l,u.formatViewerValue]);return r.a.createElement("span",{style:i},s)},ae=Object(T.a)((function(){return{root:{width:"100%",marginTop:"-4px",marginBottom:"-8px"}}})),re=Object(T.a)((function(e){return{root:{fontSize:e.typography.fontSize}}})),le=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.onChange,u=e.onRevert,i=e.onKeyDown,s=t.items,d=t.columns,b=ae(),f=re(),m=Object(a.useState)(void 0),p=m[0],v=m[1],O=Object(a.useMemo)((function(){return s[l]}),[s,l]),h=Object(a.useMemo)((function(){return d.filter((function(e){return!e.isHidden}))[o]}),[d,o]),g=Object(a.useMemo)((function(){return n.value}),[n.value]),y=Object(a.useMemo)((function(){return"number"===n.valueType?"number":h.inputType}),[n.valueType,h.inputType]),j=Object(a.useRef)(),E=Object(a.useCallback)((function(e){var t=function(e,t){switch(t){case"string":return e.length>0?e:null;case"number":return e.length>0?Number(e):null;default:return null}}(e.target.value,n.valueType),a=h.validate&&h.validate(t,O,s);v(a),a||c(t)}),[s,n.valueType,c,O,h.validate]),k=Object(a.useCallback)((function(){u()}),[u]);return Object(a.useEffect)((function(){var e=h.validate&&h.validate(n.value,O,s);v(e)}),[s,n.value,O,h.validate]),Object(a.useEffect)((function(){j.current&&j.current.focus()}),[j]),r.a.createElement(H.a,{classes:b,defaultValue:g,type:y,error:!!p,helperText:p,onChange:E,onKeyDown:i,inputProps:{ref:j,className:f.root,onBlur:k}})},oe=Object(T.a)((function(){return{root:{marginTop:"-4px",marginBottom:"-8px"}}})),ce=Object(T.a)((function(){return{root:{fontSize:"0.875rem",marginTop:"-2px",marginBottom:"-1px"}}})),ue=function(e,t){switch(t){case"string":return"__EMPTY__"!==e?e:null;case"number":return"__EMPTY__"!==e?Number(e):null;default:return null}},ie=function(e){var t=e.tableProps,n=e.cell,l=e.col,o=e.onCommit,c=e.onRevert,u=t.columns,i=oe(),s=ce(),d=Object(a.useState)(!1),b=d[0],f=d[1],m=Object(a.useMemo)((function(){return u.filter((function(e){return!e.isHidden}))[l]}),[u,l]),p=Object(a.useCallback)((function(e){e.stopPropagation();var t=e.target.dataset.value;if("undefined"!==typeof t){var a,r=ue(t,n.valueType);a=m.isRequired||n.value!==r?r:null,o(a),f(!1)}}),[n.value,n.valueType,o,m.isRequired]),v=Object(a.useCallback)((function(e){switch(e.key){case"Enter":e.stopPropagation();var t=e.target.dataset.value;if("undefined"===typeof t)return;var a,r=ue(t,n.valueType);a=m.isRequired||n.value!==r?r:null,o(a),f(!1);break;case"Escape":e.stopPropagation(),c(),f(!1)}}),[n.value,n.valueType,o,c,m.isRequired]);if(Object(a.useEffect)((function(){f(!0)}),[]),!m.enum)throw new Error("Never");return r.a.createElement("div",{className:i.root},r.a.createElement(V.a,{classes:s,value:null!==n.value?n.value:"__EMPTY__",open:b},!m.isRequired&&r.a.createElement(A.a,{value:"__EMPTY__",onMouseDown:p,onKeyDown:v},"\xa0"),m.enum.map((function(e){return r.a.createElement(A.a,{value:e,key:e,onMouseDown:p,onKeyDown:v},e)}))))},se=function(e){var t=e.cell,n=e.onCommit,l=e.onRevert,o=Object(a.useState)(null===t.value),c=o[0],u=o[1],i=Object(a.useRef)(),s=Object(a.useCallback)((function(e){e.stopPropagation(),null!==t.value?n(!t.value):n(!0)}),[t.value,n]),d=Object(a.useCallback)((function(e){if(i.current)switch(e.key){case"Enter":e.preventDefault();var t=i.current.checked;n(t);break;case"Escape":l();break;case"Tab":e.preventDefault()}}),[n,l,i]),b=Object(a.useCallback)((function(){u(!1)}),[]);return Object(a.useEffect)((function(){i.current&&i.current.focus()}),[i]),r.a.createElement(W.a,{defaultChecked:"boolean"===typeof t.value&&t.value,indeterminate:c,inputRef:i,onMouseDown:s,onKeyDown:d,onChange:b})},de=function(e){var t=e.tableProps.columns,n=Object(a.useMemo)((function(){return t.filter((function(e){return!e.isHidden}))[e.col]}),[t,e.col]);return"boolean"===n.valueType?r.a.createElement(se,Object.assign({},e)):n.enum?r.a.createElement(ie,Object.assign({},e)):r.a.createElement(le,Object.assign({},e))},be=function(e){var t,n=L(e),a=n.data,l=n.onCellsChanged,o=n.onDragEnd,c=n.onDelete,u=n.onInsert,i=(t={tableProps:e,onDragEnd:o,onInsert:u},function(e){return r.a.createElement(X,Object.assign({},t,e))}),s=function(e){return function(t){return r.a.createElement(U,Object.assign({},e,t))}}({tableProps:e,onDelete:c}),d=function(e){return function(t){return r.a.createElement(te,Object.assign({},e,t))}}({tableProps:e}),b=function(e){return function(t){return r.a.createElement(ne,Object.assign({},e,t))}}({tableProps:e}),f=function(e){return function(t){return r.a.createElement(de,Object.assign({},e,t))}}({tableProps:e});return r.a.createElement(z,{data:a,valueRenderer:B,onCellsChanged:l,sheetRenderer:i,rowRenderer:s,cellRenderer:d,valueViewer:b,dataEditor:f})},fe=(n(107),function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(!1),c=Object(i.a)(o,2),O=c[0],h=c[1],g=Object(a.useState)(!1),y=Object(i.a)(g,2),j=y[0],E=y[1],k=Object(a.useState)(!1),w=Object(i.a)(k,2),C=w[0],D=w[1],T=Object(a.useState)(!1),x=Object(i.a)(T,2),R=x[0],M=x[1],P=Object(a.useState)(!1),S=Object(i.a)(P,2),I=S[0],_=S[1],H=Object(a.useState)(!1),V=Object(i.a)(H,2),A=V[0],W=V[1],q=Object(a.useCallback)((function(e){l(e.target.checked)}),[]),z=Object(a.useCallback)((function(e){h(e.target.checked)}),[]),B=Object(a.useCallback)((function(e){E(e.target.checked)}),[]),L=Object(a.useCallback)((function(e){D(e.target.checked)}),[]),N=Object(a.useCallback)((function(e){M(e.target.checked)}),[]),K=Object(a.useCallback)((function(e){_(e.target.checked)}),[]),Y=Object(a.useCallback)((function(e){W(e.target.checked)}),[]),X=Object(a.useState)((function(){return[{a:"a0",b:"b0",hidden:"this param is hidden",c:0,d:!0,e:(new Date).toISOString()},{a:"a1",b:"b1",hidden:"this param is hidden",c:1,d:!1,e:(new Date).toISOString()},{a:"a2",b:"b2",hidden:"this param is hidden",c:2,d:null,e:(new Date).toISOString()}]})),J=Object(i.a)(X,2),$=J[0],F=J[1],G=Object(a.useMemo)((function(){return[{keyProp:"a",valueType:"string",validate:function(e,t,n){return null===e?"Required":n.filter((function(t){return t.a===e})).length>1?"Duplicated":void 0},label:"A",isRequired:!0,style:{minWidth:"12rem"}},{keyProp:"b",valueType:"string",enum:["b0","b1","b2","b3","b4"],label:"B",style:{width:"12rem",minWidth:"12rem"}},{keyProp:"hidden",valueType:"string",defualtValue:"this param is hidden",isHidden:!0},{keyProp:"c",valueType:"number",label:"C",style:{width:"12rem",minWidth:"12rem",textAlign:"right"}},{keyProp:"d",valueType:"boolean",label:"D",style:{width:"8rem",minWIdth:"8rem",textAlign:"center"}},{keyProp:"e",valueType:"string",formatViewerValue:function(e){return new Date(e).toLocaleString()},defualtValue:function(){return(new Date).toISOString()},label:"E",isReadOnly:!0,style:{width:"12rem",minWidth:"12rem"}}]}),[]),Q=Object(a.useCallback)((function(e){var t=e.items;F(t)}),[]),U=Object(a.useCallback)((function(e){var t=e.newItem,n=e.index,a=$.map((function(e,a){return a!==n?e:t}));F(a)}),[$]),Z=Object(a.useCallback)((function(e){var t=e.index,n=$.filter((function(e,n){return n!==t}));F(n)}),[$]),ee=Object(a.useCallback)((function(e){var t=e.newItem,n=[].concat(Object(u.a)($),[t]);F(n)}),[$]);return Object(a.useEffect)((function(){console.log($)}),[$]),r.a.createElement(s.a,null,r.a.createElement(d.a,{marginY:2},r.a.createElement(b.a,null,r.a.createElement(d.a,{padding:2},r.a.createElement(f.a,{row:!0},r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:n,onChange:q}),label:"Small"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:C,onChange:L}),label:"isTableHeaderHidden"})),r.a.createElement(f.a,{row:!0},r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:O,onChange:z}),label:"isReadOnly"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:j,onChange:B}),label:"isTemporaryReadOnly"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:R,onChange:N}),label:"isReorderDisabled"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:I,onChange:K}),label:"isDeleteDisabled"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:A,onChange:Y}),label:"isInsertDisabled"}))))),r.a.createElement(v.a,{component:b.a},r.a.createElement(be,{id:"example",items:$,columns:G,onReorder:Q,onChangeAtIndex:U,onDeleteAtIndex:Z,onInsertAtLast:ee,tableSize:n?"small":"medium",isReadOnly:O,isTemporaryReadOnly:j,isTableHeaderHidden:C,isReorderDisabled:R,isDeleteDisabled:I,isInsertDisabled:A})))});o.a.render(r.a.createElement(a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(fe,null)),document.getElementById("root"))},93:function(e,t,n){e.exports=n(109)}},[[93,1,2]]]);
//# sourceMappingURL=main.1a945064.chunk.js.map