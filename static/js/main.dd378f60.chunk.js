(this["webpackJsonpmaterial-modeless-data-table-example"]=this["webpackJsonpmaterial-modeless-data-table-example"]||[]).push([[0],{107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(10),o=n.n(l),c=n(170),i=n(77),u=n(26),s=n(166),d=n(171),b=n(165),f=n(167),m=n(176),p=n(168),v=n(169),O=n(72),g=n.n(O),h=n(54),E=n(161),y=n(158),j=n(159),k=n(160),w=n(156),C=n(152),D=n(157),x=n(155),T=n(110),R=n(74),M=n.n(R),P=n(75),S=n.n(P),I=n(177),_=n(60),H=n(173),V=n(172),A=n(178),B=n(174);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var q=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(g.a),z=function(e){var t=e.value;switch(e.valueType){case"string":case"number":return t;case"boolean":return null===t?"\u2501":t?"\u2714\ufe0e":null}},L=function(e){var t=e.id,n=e.items,r=e.columns,l=e.isReadOnly,o=e.isTemporaryReadOnly,c=e.onReorder,i=e.onChangeAtIndex,u=e.onDeleteAtIndex,s=e.onInsertAtLast,d=Object(a.useMemo)((function(){return n.map((function(e,n){return function(e){var t=e.item,n=e.index,a=e.id,r=e.columns,l=e.isReadOnly,o=e.isTemporaryReadOnly;return r.filter((function(e){return!e.isHidden})).map((function(e){var r;r="undefined"===typeof t[e.keyProp]?null:t[e.keyProp];var c=a+"_"+e.keyProp+"_"+n;return W({value:r,valueType:e.valueType,key:c,readOnly:l||o||e.isReadOnly},e.cell)}))}({item:e,index:n,id:t,columns:r,isReadOnly:l,isTemporaryReadOnly:o})}))}),[t,n,r,l,o]);return{data:d,onCellsChanged:Object(a.useCallback)((function(e){i&&e.forEach((function(e){var t,a=e.row,l=e.col,o=e.value,c=a,u=n[c],s=r.filter((function(e){return!e.isHidden}))[l],d=o;if("string"===typeof d&&0===d.length&&(d=null),(!s.isRequired||null!==d)&&(!s.validate||!s.validate(d,u,n))){s.formatEditedValue&&(d=s.formatEditedValue(d));var b=W({},u,((t={})[s.keyProp]=d,t));i({newItem:b,oldItem:u,index:c})}}))}),[n,r,d,i]),onDragEnd:Object(a.useCallback)((function(e){if(c&&"CANCEL"!==e.reason){var t=e.destination&&e.destination.index;if("undefined"!==typeof t){var a=e.source.index;if(a!==t){var r=n[a],l=n.filter((function(e,t){return t!==a}));l.splice(t,0,r),c({items:l,srcIndex:a,destIndex:t})}}}}),[n,c]),onDelete:Object(a.useCallback)((function(e){if(u){var t=e,a=n[t];u({oldItem:a,index:t})}}),[n,u]),onInsert:Object(a.useCallback)((function(){if(s){var e=function(e){return e.columns.reduce((function(e,t){var n,a=null;return t.defualtValue&&(a="function"===typeof t.defualtValue?t.defualtValue():t.defualtValue),W({},e,((n={})[t.keyProp]=a,n))}),{})}({columns:r}),t=n.length;s({newItem:e,index:t})}}),[n,r,s])}},N=function(){return r.a.createElement(C.a,{padding:"checkbox"})},K=Object(x.a)((function(e){return{root:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}})),Y=function(e){var t=e.colspan,n=e.onInsert,l=e.isDisabled,o=K(),c=Object(a.useCallback)((function(){l||n()}),[l,n]);return r.a.createElement(w.a,null,r.a.createElement(C.a,{classes:o,colSpan:t},r.a.createElement(D.a,{variant:"outlined",color:"primary",size:"small",disabled:l,onClick:c},"Add")))},X=function(e){var t=e.tableProps,n=e.onInsert,l=e.onDragEnd,o=e.children,c=t.id,i=t.columns,u=t.tableSize,s=t.isReadOnly,d=t.isTemporaryReadOnly,b=t.isTableHeaderHidden,f=t.isReorderDisabled,m=t.isDeleteDisabled,p=t.isInsertDisabled,v=Object(a.useMemo)((function(){var e=i.filter((function(e){return!e.isHidden})).length;return s||(f||e++,m||e++),e}),[i,s,f,m]),O=Object(a.useCallback)((function(){var e=document.activeElement;e&&e instanceof HTMLElement&&e.blur()}),[]),g=Object(a.useMemo)((function(){return b?null:r.a.createElement(y.a,null,r.a.createElement(w.a,null,!s&&!f&&r.a.createElement(N,null),i.filter((function(e){return!e.isHidden})).map((function(e,t){return r.a.createElement(C.a,{style:e.style,key:t},e.label)})),!s&&!m&&r.a.createElement(N,null)))}),[i,s,b,f,m]),D=Object(a.useMemo)((function(){return s||f?r.a.createElement(j.a,null,o):r.a.createElement(h.a,{onDragEnd:l,onDragStart:O},r.a.createElement(h.c,{droppableId:c},(function(e){return r.a.createElement(j.a,Object.assign({ref:e.innerRef},e.droppableProps),o,e.placeholder)})))}),[c,s,f,l,O,o]),x=Object(a.useMemo)((function(){return s||p?null:r.a.createElement(k.a,null,r.a.createElement(Y,{isDisabled:d,onInsert:n,colspan:v}))}),[s,p,n,v]);return r.a.createElement(E.a,{size:u},g,D,x)},J=Object(x.a)((function(){return{root:{textAlign:"center"}}})),$=function(e){var t=J(),n=Object(a.useMemo)((function(){return 0===Object.keys(e).length}),[e]);return r.a.createElement(C.a,{classes:t,padding:"checkbox"},r.a.createElement(T.a,Object.assign({},e,{disabled:n}),r.a.createElement(M.a,null)))},F=Object(x.a)((function(){return{root:{textAlign:"center"}}})),G=function(e){var t=e.onDelete,n=e.isDisabled,l=F(),o=Object(a.useCallback)((function(){n||t()}),[n,t]);return r.a.createElement(C.a,{classes:l,padding:"checkbox"},r.a.createElement(T.a,{disabled:n,onClick:o},r.a.createElement(S.a,null)))},Q=Object(x.a)((function(e){return{root:{"&$selected, &$selected:hover":{display:"table",tableLayout:"auto",backgroundColor:e.palette.action.hover}},selected:{}}})),U=function(e){var t=e.tableProps,n=e.onDelete,l=e.row,o=e.children,c=t.id,i=t.isReadOnly,u=t.isTemporaryReadOnly,s=t.isReorderDisabled,d=t.isDeleteDisabled,b=Q(),f=Object(a.useMemo)((function(){return c+"_"+l}),[c,l]),m=Object(a.useCallback)((function(){n(l)}),[n,l]);return i||s?r.a.createElement(w.a,{classes:b},o,!i&&!d&&r.a.createElement(G,{onDelete:m,isDisabled:u})):r.a.createElement(h.b,{draggableId:f,index:l,isDragDisabled:s||u},(function(e,t){return r.a.createElement(w.a,Object.assign({classes:b,selected:t.isDragging,ref:e.innerRef},e.draggableProps),r.a.createElement($,Object.assign({},e.dragHandleProps)),o,!d&&r.a.createElement(G,{onDelete:m,isDisabled:u}))}))},Z=Object(x.a)((function(e){return{root:{position:"relative",cursor:"cell","&:hover":{backgroundColor:Object(_.lighten)(e.palette.action.hover,.5)}}}})),ee=Object(x.a)((function(e){return{selected:{backgroundColor:e.palette.action.hover,"&:hover":{backgroundColor:e.palette.action.hover}},editing:{backgroundColor:e.palette.action.hover,"&:hover":{backgroundColor:e.palette.action.hover}},readOnly:{cursor:"default",color:Object(_.lighten)(e.palette.text.primary,.25)},error:{"&:before":{content:'""',position:"absolute",display:"block",top:0,right:0,borderTop:".5rem solid "+e.palette.error.main,borderLeft:".5rem solid transparent"}}}})),te=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.selected,i=e.editing,u=e.onMouseDown,s=e.onMouseOver,d=e.onContextMenu,b=e.onDoubleClick,f=e.children,m=t.items,p=t.columns,v=t.isReadOnly,O=t.isTemporaryReadOnly,g=Z(),h=ee(),E=Object(a.useState)(void 0),y=E[0],j=E[1],k=Object(a.useMemo)((function(){return m[l]}),[m,l]),w=Object(a.useMemo)((function(){return p.filter((function(e){return!e.isHidden}))[o]}),[p,o]),D=Object(a.useMemo)((function(){var e=[];return i?e.push(h.editing):c&&e.push(h.selected),y&&!i&&e.push(h.error),(v||O||w.isReadOnly)&&e.push(h.readOnly),e.join(" ")}),[v,O,c,i,h,y,w.isReadOnly]),x=Object(a.useMemo)((function(){var e=w.style||{},t={width:e.width,minWidth:e.minWidth,maxWidth:e.maxWidth,textAlign:e.textAlign};switch(w.overflow||"wrap"){case"wrap":t=W({},t,{whiteSpace:"normal",overflowWrap:"anywhere"});break;case"nowrap":t=W({},t,{whiteSpace:"nowrap",overflowX:"visible"});break;case"clip":t=W({},t,{whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"clip"});break;case"ellipsis":t=W({},t,{whiteSpace:"nowrap",overflowX:"hidden",textOverflow:"ellipsis"})}return t}),[w.style,w.overflow]),T=Object(a.useMemo)((function(){return"boolean"===w.valueType?"checkbox":"default"}),[w.valueType]),R=Object(a.useMemo)((function(){return r.a.createElement(C.a,{classes:g,className:D,style:x,padding:T,onMouseDown:u,onMouseOver:s,onContextMenu:d,onDoubleClick:b},f)}),[u,s,d,b,f,g,D,x,T]);return Object(a.useEffect)((function(){var e=w.validate&&w.validate(n.value,k,m);j(e)}),[m,n.value,k,w]),i||"undefined"===typeof y?R:r.a.createElement(I.a,{title:y,placement:"top-end"},R)},ne=function(e){var t=e.tableProps,n=e.cell,l=e.value,o=e.col,c=t.columns,i=Object(a.useMemo)((function(){return c.filter((function(e){return!e.isHidden}))[o]}),[c,o]),u=Object(a.useMemo)((function(){var e={display:"inline-block"};return"boolean"===n.valueType&&(e=W({},e,{width:"24px",textAlign:"center"})),e}),[n.valueType]),s=Object(a.useMemo)((function(){return i.formatViewerValue?i.formatViewerValue(n.value):l}),[n.value,l,i.formatViewerValue]);return r.a.createElement("span",{style:u},s)},ae=Object(x.a)((function(){return{root:{width:"100%",marginTop:"-4px",marginBottom:"-8px"}}})),re=Object(x.a)((function(e){return{root:{fontSize:e.typography.fontSize}}})),le=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.onChange,i=e.onRevert,u=e.onKeyDown,s=t.items,d=t.columns,b=t.onBeginEditing,f=t.onEndEditing,m=ae(),p=re(),v=Object(a.useState)(void 0),O=v[0],g=v[1],h=Object(a.useMemo)((function(){return s[l]}),[s,l]),E=Object(a.useMemo)((function(){return d.filter((function(e){return!e.isHidden}))[o]}),[d,o]),y=Object(a.useMemo)((function(){return n.value}),[n.value]),j=Object(a.useMemo)((function(){return"number"===n.valueType?"number":E.inputType}),[n.valueType,E.inputType]),k=Object(a.useRef)(),w=Object(a.useCallback)((function(e){var t=function(e,t){switch(t){case"string":return e.length>0?e:null;case"number":return e.length>0?Number(e):null;default:return null}}(e.target.value,n.valueType),a=E.validate&&E.validate(t,h,s);g(a),a||c(t)}),[s,n.valueType,c,h,E.validate]),C=Object(a.useCallback)((function(){i()}),[i]);return Object(a.useEffect)((function(){var e=E.validate&&E.validate(n.value,h,s);g(e)}),[s,n.value,h,E.validate]),Object(a.useEffect)((function(){k.current&&k.current.focus()}),[k]),Object(a.useEffect)((function(){return b&&b({index:l}),function(){f&&f({index:l})}}),[l,b,f]),r.a.createElement(H.a,{classes:m,defaultValue:y,type:j,error:!!O,helperText:O,onChange:w,onKeyDown:u,inputProps:{ref:k,className:p.root,onBlur:C}})},oe=Object(x.a)((function(){return{root:{marginTop:"-4px",marginBottom:"-8px"}}})),ce=Object(x.a)((function(){return{root:{fontSize:"0.875rem",marginTop:"-2px",marginBottom:"-1px"}}})),ie=function(e,t){switch(t){case"string":return"__EMPTY__"!==e?e:null;case"number":return"__EMPTY__"!==e?Number(e):null;default:return null}},ue=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.col,c=e.onCommit,i=e.onRevert,u=t.columns,s=t.onBeginEditing,d=t.onEndEditing,b=oe(),f=ce(),m=Object(a.useState)(!1),p=m[0],v=m[1],O=Object(a.useMemo)((function(){return u.filter((function(e){return!e.isHidden}))[o]}),[u,o]),g=Object(a.useCallback)((function(e){e.stopPropagation();var t=e.target.dataset.value;if("undefined"!==typeof t){var a,r=ie(t,n.valueType);a=O.isRequired||n.value!==r?r:null,c(a),v(!1)}}),[n.value,n.valueType,c,O.isRequired]),h=Object(a.useCallback)((function(e){switch(e.key){case"Enter":e.stopPropagation();var t=e.target.dataset.value;if("undefined"===typeof t)return;var a,r=ie(t,n.valueType);a=O.isRequired||n.value!==r?r:null,c(a),v(!1);break;case"Escape":e.stopPropagation(),i(),v(!1)}}),[n.value,n.valueType,c,i,O.isRequired]);if(Object(a.useEffect)((function(){v(!0)}),[]),Object(a.useEffect)((function(){return s&&s({index:l}),function(){d&&d({index:l})}}),[l,s,d]),!O.enum)throw new Error("Never");return r.a.createElement("div",{className:b.root},r.a.createElement(V.a,{classes:f,value:null!==n.value?n.value:"__EMPTY__",open:p},!O.isRequired&&r.a.createElement(A.a,{value:"__EMPTY__",onMouseDown:g,onKeyDown:h},"\xa0"),O.enum.map((function(e){return r.a.createElement(A.a,{value:e,key:e,onMouseDown:g,onKeyDown:h},e)}))))},se=function(e){var t=e.tableProps,n=e.cell,l=e.row,o=e.onCommit,c=e.onRevert,i=t.onBeginEditing,u=t.onEndEditing,s=Object(a.useState)(null===n.value),d=s[0],b=s[1],f=Object(a.useRef)(),m=Object(a.useCallback)((function(e){e.stopPropagation(),null!==n.value?o(!n.value):o(!0)}),[n.value,o]),p=Object(a.useCallback)((function(e){if(f.current)switch(e.key){case"Enter":e.preventDefault();var t=f.current.checked;o(t);break;case"Escape":c();break;case"Tab":e.preventDefault()}}),[o,c,f]),v=Object(a.useCallback)((function(){b(!1)}),[]);return Object(a.useEffect)((function(){f.current&&f.current.focus()}),[f]),Object(a.useEffect)((function(){return i&&i({index:l}),function(){u&&u({index:l})}}),[l,i,u]),r.a.createElement(B.a,{defaultChecked:"boolean"===typeof n.value&&n.value,indeterminate:d,inputRef:f,onMouseDown:m,onKeyDown:p,onChange:v})},de=function(e){var t=e.tableProps.columns,n=Object(a.useMemo)((function(){return t.filter((function(e){return!e.isHidden}))[e.col]}),[t,e.col]);return"boolean"===n.valueType?r.a.createElement(se,Object.assign({},e)):n.enum?r.a.createElement(ue,Object.assign({},e)):r.a.createElement(le,Object.assign({},e))},be=function(e){var t,n=L(e),a=n.data,l=n.onCellsChanged,o=n.onDragEnd,c=n.onDelete,i=n.onInsert,u=(t={tableProps:e,onDragEnd:o,onInsert:i},function(e){return r.a.createElement(X,Object.assign({},t,e))}),s=function(e){return function(t){return r.a.createElement(U,Object.assign({},e,t))}}({tableProps:e,onDelete:c}),d=function(e){return function(t){return r.a.createElement(te,Object.assign({},e,t))}}({tableProps:e}),b=function(e){return function(t){return r.a.createElement(ne,Object.assign({},e,t))}}({tableProps:e}),f=function(e){return function(t){return r.a.createElement(de,Object.assign({},e,t))}}({tableProps:e});return r.a.createElement(q,{data:a,valueRenderer:z,onCellsChanged:l,sheetRenderer:u,rowRenderer:s,cellRenderer:d,valueViewer:b,dataEditor:f})},fe=(n(107),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(!1),c=Object(u.a)(o,2),O=c[0],g=c[1],h=Object(a.useState)(!1),E=Object(u.a)(h,2),y=E[0],j=E[1],k=Object(a.useState)(!1),w=Object(u.a)(k,2),C=w[0],D=w[1],x=Object(a.useState)(!1),T=Object(u.a)(x,2),R=T[0],M=T[1],P=Object(a.useState)(!1),S=Object(u.a)(P,2),I=S[0],_=S[1],H=Object(a.useState)(!1),V=Object(u.a)(H,2),A=V[0],B=V[1],W=Object(a.useCallback)((function(e){l(e.target.checked)}),[]),q=Object(a.useCallback)((function(e){g(e.target.checked)}),[]),z=Object(a.useCallback)((function(e){j(e.target.checked)}),[]),L=Object(a.useCallback)((function(e){D(e.target.checked)}),[]),N=Object(a.useCallback)((function(e){M(e.target.checked)}),[]),K=Object(a.useCallback)((function(e){_(e.target.checked)}),[]),Y=Object(a.useCallback)((function(e){B(e.target.checked)}),[]),X=Object(a.useState)((function(){return[{a:"a0",b:"b0",hidden:"this param is hidden",c:0,d:!0,e:(new Date).toISOString()},{a:"a1",b:"b1",hidden:"this param is hidden",c:1,d:!1,e:(new Date).toISOString()},{a:"a2",b:"b2",hidden:"this param is hidden",c:2,d:null,e:(new Date).toISOString()}]})),J=Object(u.a)(X,2),$=J[0],F=J[1],G=Object(a.useMemo)((function(){return[{keyProp:"a",valueType:"string",validate:function(e,t,n){return null===e?"Required":n.filter((function(t){return t.a===e})).length>1?"Duplicated":void 0},label:"A",isRequired:!0,style:{minWidth:"12rem"}},{keyProp:"b",valueType:"string",enum:["b0","b1","b2","b3","b4"],label:"B",style:{width:"12rem",minWidth:"12rem"}},{keyProp:"hidden",valueType:"string",defualtValue:"this param is hidden",isHidden:!0},{keyProp:"c",valueType:"number",label:"C",style:{width:"12rem",minWidth:"12rem",textAlign:"right"}},{keyProp:"d",valueType:"boolean",label:"D",style:{width:"8rem",minWIdth:"8rem",textAlign:"center"}},{keyProp:"e",valueType:"string",formatViewerValue:function(e){return new Date(e).toLocaleString()},defualtValue:function(){return(new Date).toISOString()},label:"E",isReadOnly:!0,style:{width:"12rem",minWidth:"12rem"}}]}),[]),Q=Object(a.useCallback)((function(e){var t=e.items;F(t)}),[]),U=Object(a.useCallback)((function(e){var t=e.newItem,n=e.index,a=$.map((function(e,a){return a!==n?e:t}));F(a)}),[$]),Z=Object(a.useCallback)((function(e){var t=e.index,n=$.filter((function(e,n){return n!==t}));F(n)}),[$]),ee=Object(a.useCallback)((function(e){var t=e.newItem,n=[].concat(Object(i.a)($),[t]);F(n)}),[$]),te=Object(a.useCallback)((function(e){var t=e.index;console.log("Begin editing: ".concat(t))}),[]),ne=Object(a.useCallback)((function(e){var t=e.index;console.log("End editing: ".concat(t))}),[]);return Object(a.useEffect)((function(){console.log($)}),[$]),r.a.createElement(s.a,null,r.a.createElement(d.a,{marginY:2},r.a.createElement(b.a,null,r.a.createElement(d.a,{padding:2},r.a.createElement(f.a,{row:!0},r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:n,onChange:W}),label:"Small"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:C,onChange:L}),label:"isTableHeaderHidden"})),r.a.createElement(f.a,{row:!0},r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:O,onChange:q}),label:"isReadOnly"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:y,onChange:z}),label:"isTemporaryReadOnly"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:R,onChange:N}),label:"isReorderDisabled"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:I,onChange:K}),label:"isDeleteDisabled"}),r.a.createElement(m.a,{control:r.a.createElement(p.a,{checked:A,onChange:Y}),label:"isInsertDisabled"}))))),r.a.createElement(v.a,{component:b.a},r.a.createElement(be,{id:"example",items:$,columns:G,onReorder:Q,onChangeAtIndex:U,onDeleteAtIndex:Z,onInsertAtLast:ee,onBeginEditing:te,onEndEditing:ne,tableSize:n?"small":"medium",isReadOnly:O,isTemporaryReadOnly:y,isTableHeaderHidden:C,isReorderDisabled:R,isDeleteDisabled:I,isInsertDisabled:A})))});o.a.render(r.a.createElement(a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(fe,null)),document.getElementById("root"))},93:function(e,t,n){e.exports=n(109)}},[[93,1,2]]]);
//# sourceMappingURL=main.dd378f60.chunk.js.map